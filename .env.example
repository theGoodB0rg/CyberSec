# Core server configuration
PORT=3001
NODE_ENV=development
LOG_LEVEL=info

# SQLite database location (relative or absolute)
DB_PATH=./server/data/cybersecurity.db

# SQLMap configuration
# If set, this absolute path will be used instead of auto-detection.
# Example (Linux): /usr/local/bin/sqlmap
# Example (Windows): C:\\Python312\\Scripts\\sqlmap.exe
SQLMAP_PATH=

# Proxy requirement
# Force every scan to specify a proxy when true/1. Leave blank or set to false/0 to allow direct egress.
REQUIRE_PROXY=false

# Express trust proxy behavior (affects client IP detection and rate limiting)
# Options:
#  - auto (default; trust loopback, linklocal, uniquelocal)
#  - true (trust all proxies)
#  - false (trust none)
#  - or comma-separated list of IPs/CIDRs
TRUST_PROXY=auto

# Authentication / Security
# Used for signing JWTs (change in production). Use a long random string.
JWT_SECRET=change_me_in_production

# Rate limiting (per IP)
RATE_LIMIT_WINDOW_MINUTES=15
RATE_LIMIT_MAX=100

# Multi-user limits
MAX_CONCURRENT_SCANS_PER_USER=2
MAX_SCANS_PER_MONTH=100
DUPLICATE_SCAN_WINDOW_SECONDS=10
ALLOW_UNVERIFIED_TARGETS=false
# Comma-separated hostnames that any user may scan without prior verification in addition to the built-in
# demo list (testphp.vulnweb.com, testasp.vulnweb.com, juice-shop.herokuapp.com, demo.testfire.net, etc.)
SAFE_PUBLIC_TARGETS=
SCAN_TIMEOUT_SECONDS=1800

# PDF / Reporting
# Headless export tuning; leave defaults unless troubleshooting.
PUPPETEER_TIMEOUT_MS=30000

# CORS / Frontend
# Optional allowed origin override (comma separated). Leave empty for localhost dev pattern.
ALLOWED_ORIGINS=

# Advanced: Feature flags (enable incrementally)
ENABLE_JWT_AUTH=true
ENABLE_RECON=true
ENABLE_REPORT_EXPORT=true

# Queue / Scheduler
ENABLE_JOB_QUEUE=true
JOB_POLL_INTERVAL_MS=3000
JOB_FETCH_BATCH=10
JOB_BACKOFF_BASE_SECONDS=10
JOB_BACKOFF_FACTOR=2.0
JOB_BACKOFF_MAX_SECONDS=600

# Retention and housekeeping
# Number of days to retain scan output directories; cleaned up daily at 03:30
OUTPUT_RETENTION_DAYS=7
# Number of days to retain scan_events; pruned daily at 04:15
EVENTS_RETENTION_DAYS=90

# Admin seeding (only used if no admin exists on startup)
ADMIN_EMAIL=admin@local.test
ADMIN_PASSWORD=admin1234

# Contact form email routing
# Configure SMTP service credentials for contact form submissions. If left blank,
# submissions are stored in server/logs/contact-submissions.log for manual follow-up.
CONTACT_EMAIL_TO=theregalstarlite@gmail.com
CONTACT_EMAIL_FROM=
CONTACT_SMTP_SERVICE=
CONTACT_SMTP_HOST=
CONTACT_SMTP_PORT=587
CONTACT_SMTP_SECURE=false
CONTACT_SMTP_USER=
CONTACT_SMTP_PASSWORD=

##Disbale PDF export (may reduce memory usage)
ENABLE_PDF_EXPORT=false
# When deploying to production, copy this file to .env and adjust values.
# Note: Admin overrides set in the web UI (Admin â†’ Site Settings) are persisted in the DB
# and applied at runtime, taking precedence over these values while the server is running.
